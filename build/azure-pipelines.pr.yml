

name: $(BuildDefinitionName)_$(date:yyMM).$(date:dd)$(rev:rrr)
pool:
  pool: "windevbuildagents"
  demands:
  - msbuild
  - visualstudio

pr:
  branches:
    include:
    - '*'  # must quote since "*" is a YAML reserved character; we want a string


jobs:
- job: "Build_Test_FactoryOrchestrator"
  strategy:
  matrix:
    Release_x86:
      BuildPlatform: 'x86'
      BuildConfiguration: 'Release'
    Release_x64:
      BuildPlatform: 'x64'
      BuildConfiguration: 'Release'
    Release_Arm:
      BuildPlatform: 'ARM'
      BuildConfiguration: 'Release'
    Release_AnyCpu:
      BuildPlatform: 'AnyCPU'
      BuildConfiguration: 'Release'
  maxParallel: 4 # maximum number simultaneous matrix legs to run
  steps:
  - template: ./templates/template-build-test-FO.yml
- job: "Build_Docs_Check_For_Changes"
  steps:
  - template: ./templates/template-checkdocs.yml
