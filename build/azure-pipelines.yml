#CI Pipeline. Triggers every merge attempt with main branch

name: $(BuildDefinitionName)_$(date:yyMM).$(date:dd)$(rev:rrr)
pool:
  name: Hosted Windows 2019 with VS2019
  demands:
  - msbuild
  - visualstudio

trigger:
- main
pr: none

jobs:
- job: "Build_Test_FactoryOrchestrator"
  strategy:
    matrix:
      Release_x86:
        BuildPlatform: 'x86'
        BuildConfiguration: 'Release'
      Release_x64:
        BuildPlatform: 'x64'
        BuildConfiguration: 'Release'
      Release_Arm:
        BuildPlatform: 'ARM'
        BuildConfiguration: 'Release'
      Release_AnyCpu:
        BuildPlatform: 'Any CPU'
        BuildConfiguration: 'Release'
    maxParallel: '4'
  steps:
  - template: ./templates/template-build-test-FO.yml
- job: "Build_Docs_Check_For_Changes"
  steps:
  - template: ./templates/template-checkdocs.yml
